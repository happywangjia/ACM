package learning;

public class learn_5 {
	private static final int maxn=100;
	private static int[] ff=new int[maxn];
	
	public static void main(String[] args){
		String t="afadfesdafadfdadfadfadadds";
		String p="adfadfddddaaa";
		find(t,p);
	}
	private static void getFail(String p){
		toZero(p);
		int len=p.length();
		ff[0]=0;
		ff[1]=0;
		int j;
		for(int i=1;i<len;i++){
			j=ff[i];
			while(j!=0&&p.charAt(i)!=p.charAt(j)){
				j=ff[j];
			}
			ff[i+1]=p.charAt(j)==p.charAt(i)?j+1:0;
		}
	}
	private static void find(String t,String p){
		getFail(p);
		int pLen=p.length();
		int tLen=t.length();
		for(int i=0;i<pLen;i++){
			System.out.print(ff[i]+" ");
		}
		System.out.println();
		
		int j=0;
		for(int i=1;i<tLen;i++){
			while(j!=0&&p.charAt(j)!=t.charAt(i)){
				j=ff[j];
			}
			if(p.charAt(j)==t.charAt(i)){
				j++;
			}
			if(j==pLen){
				System.out.println(i-pLen+1);
				j=0;
			}
		}
	}
	private static void toZero(String p){
		for(int i=0;i<p.length();i++)
			ff[i]=0;
	}
}
