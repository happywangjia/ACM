package corejava.ch01.textFile;

import java.io.*;
import java.util.*;

/**
 * @version 1.13 2012-05-30
 * @author Cay Horstmann
 */
public class TextFileTest {
	public static void main(String[] args) {
		String path=System.getProperty("user.dir")+"/src/corejava/ch01/textFile/";
		Employee[] staff = new Employee[3];
		staff[0] = new Employee("Cracker", 7500, 1987, 12, 15);
		staff[1]=new Employee("Harry",50000,1989,10,1);
		staff[2]=new Employee("Tony",40000,1990,3,15);
		try(PrintWriter out=new PrintWriter(path+"employee.dat","UTF-8"){
			writeData(staff,out);
		}
		
	}
	private static void writeData(Employee[] employees,PrintWriter out){
		out.println(employees.length);
		for(Employee e:employees)
			writeEmployee(out,e);
	}
	private static void writeEmployee(PrintWriter out,Employee e){
		GregorianCalendar calendar=new GregorianCalendar();
		calendar.setTime(e.getHireDay());
		out.println(e.getName()+"|"+e.getSalary()+"|"+calendar.get(Calendar.YEAR)+"|"
				+(calendar.get(Calendar.MONTH)+1)+"|"+calendar.get(Calendar.DAY_OF_MONTH));
	}

}
